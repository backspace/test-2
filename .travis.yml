language: php

php:
  - 7.0
  - 7.1
  - 7.2

env:
  - PHPCS_VERSION="dev-master" LINT=1
  - PHPCS_VERSION="3.0.2"

stages:
  - name: sniff
  - name: quicktest
    if: type = push AND branch NOT IN (master)
  - name: test
    if: branch IN (master, develop)

jobs:
  fast_finish: true

  include:
    - stage: sniff
      script: echo 1
    - stage: quicktest
      script: echo 2
    - script: echo 3
    - script: echo 4
    - script: echo 5
    - stage: test
      script: echo 6
    - script: echo 7
    - script: echo 8
    - script: echo 9
    - script: echo 10

  allow_failures:
    # Allow failures for unstable builds.
    - php: "nightly"
