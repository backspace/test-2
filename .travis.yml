os: shell

env:
  global:
  - MULTIPASS_RELEASE_BRANCH_PATTERN="^release/([0-9\.]+)$"

stages:
- name: build
  if: | 
    (type = push
     AND (branch IN (staging, trying, master)
          OR branch ~= env(MULTIPASS_RELEASE_BRANCH_PATTERN)))
    OR type = pull_request
jobs:
  include:
    - stage: build
      name: Debug
      env: BUILD_TYPE=Debug

